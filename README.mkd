# Plataforma de Offboarding Inteligente

## üìå Sobre

O objetivo deste projeto √© desenvolver um **sistema completo de offboarding** que simula o processo de entrevistas de desligamento, permitindo analisar informa√ß√µes de forma estruturada e extrair insights relevantes sobre a experi√™ncia dos colaboradores.

Para isso, o sistema ser√° constru√≠do com uma arquitetura moderna e escal√°vel:

- **Back-end em Node.js**, respons√°vel pela gest√£o das rotas, processamento dos dados e integra√ß√£o com servi√ßos externos.
- **Front-end em React**, onde ser√° criado um **formul√°rio interativo** que simula a entrevista de desligamento e oferece uma experi√™ncia simples e intuitiva para o usu√°rio.
- **MySQL como banco de dados**, armazenando todos os registros gerados de forma organizada e flex√≠vel, ainda que utilizando dados fict√≠cios para fins de demonstra√ß√£o.

Al√©m do fluxo b√°sico de coleta de informa√ß√µes, o sistema contar√° com um **m√≥dulo de an√°lise de sentimentos**, implementado por meio da API de IA do Google. Esse recurso permitir√° identificar automaticamente padr√µes positivos, negativos ou neutros nas respostas, enriquecendo a interpreta√ß√£o dos resultados.

Por fim, todas as informa√ß√µes ser√£o apresentadas em um **dashboard din√¢mico**, com gr√°ficos, indicadores e estat√≠sticas que facilitam a visualiza√ß√£o e auxiliam na tomada de decis√µes estrat√©gicas.

## üöÄ Tecnologias utilizadas

![HTML](https://img.shields.io/badge/HTML5-E34F26?style=for-the-badge&logo=html5&logoColor=white)
![TailwindCSS](https://img.shields.io/badge/TailwindCSS-06B6D4?style=for-the-badge&logo=tailwindcss&logoColor=white)
![React](https://img.shields.io/badge/React-61DAFB?style=for-the-badge&logo=react&logoColor=black)
![Vite](https://img.shields.io/badge/Vite-646CFF?style=for-the-badge&logo=vite&logoColor=white)
![MySQL](https://img.shields.io/badge/MySQL-4479A1?style=for-the-badge&logo=mysql&logoColor=white)
![Clerk](https://img.shields.io/badge/Clerk-F7DF1E?style=for-the-badge&logo=clerk&logoColor=black)
![Node.js](https://img.shields.io/badge/Node.js-339933?style=for-the-badge&logo=nodedotjs&logoColor=white)
![Google AI](https://img.shields.io/badge/Google%20AI-4285F4?style=for-the-badge&logo=google&logoColor=white)

## üèóÔ∏è Arquitetura do Sistema

A plataforma foi desenvolvida com uma arquitetura que integra autentica√ß√£o, coleta de dados, an√°lise com IA e visualiza√ß√£o em dashboard. O fluxo geral pode ser resumido em cinco etapas:

1. Interface(Front-end - React + Vite + TailwindCSS)

- Formul√°rio interativo de entrevista;

- Telas de login,question√°rios e dashboard;

- Integra√ß√£o com Clerk para autentica√ß√£o;

- Comunica√ß√£o com o back-end via API REST;

2. Autentica√ß√£o (Clerk)

- Login via e-mail, Google ou Microsoft;

- Gest√£o de sess√£o e usu√°rios (dentro do dashboard do Clerk);

- Prote√ß√£o de rotas privadas;

- Envio de JWT ao back-end para valida√ß√£o;

3. Back-end (Node.js)

- Receber e validar dados enviados pelo front-end;

- Processar respostas da entrevista;

- Integrar com a Google AI para an√°lise de sentimentos;

4. Banco de Dados (MySQL)

- Registro completo das entrevistas;

- Resultados da an√°lise de sentimentos;

5. Servi√ßo de IA (Google AI)
   O Sentiment Service √© o m√≥dulo respons√°vel por analisar as respostas textuais do formul√°rio de offboarding, retornando:

- Retorna sentimento: negative, neutral ou positive;

- score: varia√ß√£o entre -1 (muito negativo) e +1 (muito positivo);

- magnitude: intensidade da emo√ß√£o (‚â• 0);

- overall: m√©dia geral das emo√ß√µes detectadas;

- Resultado final √© armazenado e exibido no dashboard;

## ‚öôÔ∏è Funcionalidades

Desenvolvido para trazer mais conforto para o entrevistado e maior assertividade para a empresa, a plataforma conta com telas interativas, f√°ceis e r√°pidas, um dashboard e an√°lise de sentimentos integrada via IA. O resultado √© uma experi√™ncia din√¢mica, bonita e atraente para o usu√°rio.

### Tela principal

Mostra a import√¢ncia da Pesquisa e revela o quanto o processo √© pr√°tico e r√°pido.

(Print da tela principal)

### Tela de Login

Login simples e r√°pido oferecendo op√ß√µes de logar com e-mail, Google ou Microsft.

(Print da tela loging com Modal)

### Telas de Pesquisas

Question√°rios din√¢micos, leves, r√°pidos e seguros.

(Print da tela question√°rio)

### Dashboard

Dashboards din√¢micos com an√°lises de sentimentos.

(Print do dashboard)

## üôãüèª‚Äç‚ôÇÔ∏è Autores

- [Joice Cristina](https://github.com/Joice-crypto)
- [Micael Diniz](https://github.com/MDiniz-AI)
- [Miguel Balbo](https://github.com/MiguelBalbo)
- [Tha√≠s Silva](https://github.com/ThaisSil)
- [Vitor Sternik](https://github.com/Vitorfs2509)

## üì° Endpoints da API

A API do projeto exp√µe dois endpoints principais, respons√°veis pela submiss√£o do formul√°rio de desligamento e pela entrega dos dados agregados usados no dashboard.

**1. Endpoint de Submiss√£o de Formul√°rio (POST)**

Envia as respostas do formul√°rio e aciona a an√°lise de sentimentos.

| Atributo | Detalhes |
| :--- | :--- |
| **URL** | `http://localhost:5001/api/entrevistas` |
| **M√©todo** | `POST` |
| **Controller** | `EntrevistaController.js` |
| **Seguran√ßa** | Requer **id_usuario** v√°lido no **Body** (proveniente do contexto de login) |


  üì• **Request Body (Exemplo)**

O Frontend monta um objeto JSON com o ID do usu√°rio logado e um array de
respostas.

| Campo | Tipo | Descri√ß√£o | Exemplo de Conte√∫do
| :--- | :--- |  :--- |  :--- |
| **id_usuario**  | Integer | ID do usu√°rio que est√° preenchendo o formul√°rio. | 12345
| **respostas** | Array | Lista de respostas do formul√°rio. |`[{ "pergunta": "Motivo da sa√≠da", "resposta": "Busca por novo desafio" }, ...]`|



   üì§ **Response ‚Äì 201 Created**

Em caso de sucesso, o backend retorna a confirma√ß√£o de que os dados foram salvos
e, opcionalmente, os resultados da an√°lise de sentimento para feedback imediato.

| Status | HTTP | Body de Exemplo
| :--- | :--- |  :--- |
| 201 | Created | `[{ "mensagem": "Formul√°rio e An√°lise de Sentimento salvos com sucesso.", "analise_id": 999 }]` |


**2. Endpoint de Visualiza√ß√£o Agregada (GET)**

Retorna dados pr√©-processados para visualiza√ß√£o no dashboard.

| Atributo | Detalhes |
| :--- | :--- |
| **URL** | `http://localhost:5001/api/analise/insights` |
| **M√©todo** | `GET` |
| **Controller** | `AnaliseSentimentoController.js` |
| **Fun√ß√£o** | `getDashboardInsights` |


  üì§ **Response ‚Äì 200 OK**

  O Backend retorna um JSON pr√©-agregado, pronto para plotagem no dashboard. Os
dados ser√£o um resumo dos insights de sentimento e motivos de sa√≠da.

| Status | HTTP | Body de Exemplo
| :--- | :--- | :--- |
| 200 | OK | `[{ "total_entrevistas": 500, "sentimento_resumo": {"positivo": 60, "negativo": 15, "neutro": 25}, principais_motivos": [{"motivo": "Melhor sal√°rio", "contagem": 150}, {"motivo": "Cultura", "contagem": 100}] }]` |



## üõ†Ô∏è Como executar o projeto

### Pr√©-requisitos

Certifique-se de ter o Node.js e o MySQL instalados em sua m√°quina.

### 1. Clonar o Reposit√≥rio

- Clone este reposit√≥rio em sua m√°quina local usando o comando `git clone`.

  -git clone [Repo](https://github.com/MDiniz-AI/projeto-offboarding.gitRL)

### 2. Instalar Depend√™ncias

- Este projeto utiliza uma estrutura com pastas separadas para o backend e o frontend (ui). Instale as depend√™ncias em cada diret√≥rio:
  Depend√™ncias do Backend:

`cd backend`

`npm install`

`cd ..`

  Depend√™ncias do Frontend (ui):

 `cd ui`

 `npm install`

 `cd ..`


### 3. Configurar e iniciar

- Voc√™ precisar√° de dois terminais abertos, um para o backend e um para o frontend.

No Terminal 1, navegue at√© a pasta `backend`e inicie o servi√ßo da API.

`cd backend`

`npm start`

No Terminal 2, navegue at√© a pasta `ui`e inicie o servidor de densenvolvimento do frontend:

`cd ui`

`npm run dev`


## ü§ñ Servi√ßo de An√°lise de Sentimentos (Google AI)
O backend usa o Sentiment Service (servi√ßo interno respons√°vel por analisar respostas abertas do formul√°rio) para extrair insights das entrevistas de offboarding.
O m√≥dulo de IA do Google retorna os seguintes resultados ap√≥s analisar as respostas textuais:
* **Sentimento (Label):** Classifica a resposta como `negative`, `neutral`, ou `positive`.
* **Score:** Varia√ß√£o entre $\mathbf{-1}$ (muito negativo) e $\mathbf{+1}$ (muito positivo).
* **Magnitude:** Intensidade da emo√ß√£o (sempre $\ge 0$).
* **Overall:** M√©dia geral das emo√ß√µes detectadas em todas as respostas.
O resultado final √© armazenado no Banco de Dados (MySQL) e exibido no Dashboard.

### üîó Rota utilizada pelo Backend
O Backend (Node.js) faz a requisi√ß√£o para o servi√ßo de an√°lise de sentimentos atrav√©s da rota:

`POST /sentiment/analyze`

**üì• Estrutura de Resposta (Exemplo do Servi√ßo)** 
O servi√ßo devolve a an√°lise estruturada:

JSON

`{
  "results": [
    // Array de resultados por pergunta
    {
      "score": -0.8, 
      "magnitude": 0.9, 
      "label": "negative"
    },
    // ...
  ],
  "overall": -0.25 // M√©dia geral
}`

**Configura√ß√£o de Ambiente:**

O projeto j√° inclui um arquivo `.env`.

| Ambiente | Vari√°veis | Detalhes
| :--- | :--- | :--- |
| **Desenvolvimento** | `USE_MOCK=true` `PORT=5050` | Recomendado para testes locais. O servi√ßo roda na porta `5050`.|
| **Produ√ß√£o (Google AI)** | `USE_MOCK=false` `GOOGLE_APPLICATION_CREDENTIALS=/caminho/da/sua-chave.json` | Requer credenciais da Google AI. |


**üß™ Teste R√°pido (Exemplo cURL)**
Para testar o servi√ßo localmente (assumindo que ele est√° rodando na porta `5050`), utilize o seguinte comando:

`curl -s -X POST http://localhost:5050/sentiment/analyze \
  -H "Content-Type: application/json" \
  -d '{"items":[    {"sectionId":"sal_benef","sectionName":"Sal√°rio & Benef√≠cios","questionId":"q_salario","questionText":"O sal√°rio te agradava?","answerText":"PIOR SAL√ÅRIO DO MUNDO!!!"},    {"sectionId":"gestao","sectionName":"Gest√£o","questionId":"q_motivo","questionText":"O que influenciou sua sa√≠da?","answerText":"gest√£o abusiva e ass√©dio"}  ]}'`